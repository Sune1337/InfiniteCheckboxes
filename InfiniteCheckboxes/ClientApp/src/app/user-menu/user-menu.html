<button cdkOverlayOrigin #trigger="cdkOverlayOrigin" class="hamburger-button" (click)="isMenuOpen = !isMenuOpen">
  <span class="hamburger-line"></span>
  <span class="hamburger-line"></span>
  <span class="hamburger-line"></span>
</button>

<ng-template
  cdkConnectedOverlay
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isMenuOpen"
  [cdkConnectedOverlayHasBackdrop]="true"
  (backdropClick)="isMenuOpen = false"
>
  <div class="user-popup">

    <app-accordion>
      <app-accordion-panel title="Navigation">
        <nav>
          <div>
            <h4><a (click)="isMenuOpen = false" routerLink="/Checkboxes">Checkboxes</a></h4>
            <p>How many checkboxes can you check?</p>
          </div>

          <div>
            <h4><a (click)="isMenuOpen = false" routerLink="/War">WAR</a></h4>
            <p>A game where you fight to check or uncheck all boxes on a map of defined size.</p>
          </div>

          <div>
            <h4><a (click)="isMenuOpen = false" routerLink="/About">About this site</a></h4>
            <p>Information about this site</p>
          </div>
        </nav>
      </app-accordion-panel>

      <app-accordion-panel title="Highscore">
        <div class="top10-container">
          <app-top10-highscore></app-top10-highscore>
        </div>
      </app-accordion-panel>

      <app-accordion-panel title="User details">
        @if (localUser(); as localUser) {
          <p>
            The account-details are used to track your progress. It will be lost if you clear the browser cache.
            If you want to use it in another browser, save it somewhere so you can copy-paste it there.
          </p>
          <p>
            Your username can be displayed to other users.
          </p>
          <p>
          <table>
            <tr>
              <td>UserId</td>
              <td><input type="text" [(ngModel)]="localUser.userId"></td>
            </tr>
            <tr>
              <td>Username</td>
              <td><input type="text" [(ngModel)]="localUser.userName"></td>
            </tr>
          </table>
          <p>
            <button (click)="whenSaveButtonClick()">Save and reload page</button>
          </p>
        } @else {
          <p>You are not logged in.</p>
        }
      </app-accordion-panel>
    </app-accordion>
  </div>
</ng-template>

